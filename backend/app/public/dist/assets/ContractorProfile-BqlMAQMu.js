import{K as ae,L as E,M as le,N as H,O as M,P as se,Q as oe,R as ne,S as re,T as ie,U as O,W as U,X as ue,Y as G,Z as de,$ as I,a0 as K,a1 as ce,a2 as Q,a3 as me,a4 as ve,a5 as fe,a6 as ye,a7 as be,a8 as _e,a9 as ge,g as t,aa as xe,H as _,ab as $,u as W,ac as ke,ad as he,ae as Ve,_ as Ce,r as D,b as pe,e as f,f as a,k as Pe,d as we,o as c,V as g,l as V,i as C,B as Se,a as i,t as d,G as F,n as m,m as L,af as R,p as N,c as y,j as w,F as S,E as Te,C as Be,D as ze}from"./index-UzNj4jm5.js";import{V as Ae}from"./VSnackbar-CkCcLzk8.js";const Ie=ae("v-alert-title"),$e=["success","info","warning","error"],De=E({border:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["top","end","bottom","start"].includes(e)},borderColor:String,closable:Boolean,closeIcon:{type:le,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:e=>$e.includes(e)},...H(),...M(),...se(),...oe(),...ne(),...re(),...ie(),...O(),...U(),...ue({variant:"flat"})},"VAlert"),Fe=G()({name:"VAlert",props:De(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0},setup(e,x){let{emit:o,slots:n}=x;const k=de(e,"modelValue"),v=I(()=>{if(e.icon!==!1)return e.type?e.icon??`$${e.type}`:e.icon}),{themeClasses:l}=K(e),{colorClasses:r,colorStyles:u,variantClasses:s}=ce(()=>({color:e.color??e.type,variant:e.variant})),{densityClasses:b}=Q(e),{dimensionStyles:p}=me(e),{elevationClasses:P}=ve(e),{locationStyles:X}=fe(e),{positionClasses:Y}=ye(e),{roundedClasses:Z}=be(e),{textColorClasses:j,textColorStyles:q}=_e(()=>e.borderColor),{t:J}=ge(),B=I(()=>({"aria-label":J(e.closeLabel),onClick(T){k.value=!1,o("click:close",T)}}));return()=>{const T=!!(n.prepend||v.value),ee=!!(n.title||e.title),te=!!(n.close||e.closable);return k.value&&t(e.tag,{class:["v-alert",e.border&&{"v-alert--border":!!e.border,[`v-alert--border-${e.border===!0?"start":e.border}`]:!0},{"v-alert--prominent":e.prominent},l.value,r.value,b.value,P.value,Y.value,Z.value,s.value,e.class],style:[u.value,p.value,X.value,e.style],role:"alert"},{default:()=>{var z,A;return[xe(!1,"v-alert"),e.border&&t("div",{key:"border",class:["v-alert__border",j.value],style:q.value},null),T&&t("div",{key:"prepend",class:"v-alert__prepend"},[n.prepend?t($,{key:"prepend-defaults",disabled:!v.value,defaults:{VIcon:{density:e.density,icon:v.value,size:e.prominent?44:28}}},n.prepend):t(_,{key:"prepend-icon",density:e.density,icon:v.value,size:e.prominent?44:28},null)]),t("div",{class:"v-alert__content"},[ee&&t(Ie,{key:"title"},{default:()=>{var h;return[((h=n.title)==null?void 0:h.call(n))??e.title]}}),((z=n.text)==null?void 0:z.call(n))??e.text,(A=n.default)==null?void 0:A.call(n)]),n.append&&t("div",{key:"append",class:"v-alert__append"},[n.append()]),te&&t("div",{key:"close",class:"v-alert__close"},[n.close?t($,{key:"close-defaults",defaults:{VBtn:{icon:e.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var h;return[(h=n.close)==null?void 0:h.call(n,{props:B.value})]}}):t(W,ke({key:"close-btn",icon:e.closeIcon,size:"x-small",variant:"text"},B.value),null)])]}})}}}),Le=E({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...H(),...M(),...O(),...U()},"VTable"),Re=G()({name:"VTable",props:Le(),setup(e,x){let{slots:o,emit:n}=x;const{themeClasses:k}=K(e),{densityClasses:v}=Q(e);return he(()=>t(e.tag,{class:["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!o.top,"v-table--has-bottom":!!o.bottom,"v-table--hover":e.hover},k.value,v.value,e.class],style:e.style},{default:()=>{var l,r,u;return[(l=o.top)==null?void 0:l.call(o),o.default?t("div",{class:"v-table__wrapper",style:{height:Ve(e.height)}},[t("table",null,[o.default()])]):(r=o.wrapper)==null?void 0:r.call(o),(u=o.bottom)==null?void 0:u.call(o)]}})),{}}}),Ne={class:"text-h3 white--text"},Ee={class:"text-grey-darken-1"},He={class:"d-flex align-center mb-4"},Me=["href"],Oe={key:1,class:"text-grey"},Ue={class:"d-flex align-center mb-4"},Ge={key:1,class:"text-grey"},Ke={class:"d-flex align-center mb-4"},Qe={class:"font-weight-bold mb-1"},We={class:"text-grey text-caption mt-1"},Xe={key:1,class:"text-grey"},Ye={__name:"ContractorProfile",setup(e){const x=Te(),o=D(null),n=D({show:!1,text:"",color:"success"});return pe(async()=>{try{const v=await we.get(`/api/contractors/${x.params.id}/full-profile`);o.value=v.data}catch{n.value={show:!0,text:"Ошибка загрузки профиля",color:"error"}}}),(v,l)=>(c(),f(Pe,{class:"py-10"},{default:a(()=>[t(C,{justify:"center"},{default:a(()=>[t(g,{cols:"12",md:"10",lg:"8"},{default:a(()=>[t(V,{class:"profile-card mb-8",elevation:"8"},{default:a(()=>[t(C,{"no-gutters":"",align:"center"},{default:a(()=>[t(g,{cols:"auto",class:"d-flex flex-column align-center px-8 py-8 profile-avatar-col"},{default:a(()=>[t(Se,{size:"110",color:"primary",class:"mb-4 elevation-6"},{default:a(()=>{var r,u,s;return[i("span",Ne,d(((s=(u=(r=o.value)==null?void 0:r.user)==null?void 0:u.name)==null?void 0:s.charAt(0))||"?"),1)]}),_:1}),t(F,{color:"primary",class:"mt-2","prepend-icon":"mdi-account-badge"},{default:a(()=>l[2]||(l[2]=[m("Исполнитель")])),_:1})]),_:1}),t(g,null,{default:a(()=>[t(L,{class:"text-h4 font-weight-bold mb-2"},{default:a(()=>{var r,u,s,b,p,P;return[m(d((u=(r=o.value)==null?void 0:r.user)==null?void 0:u.surname)+" "+d((b=(s=o.value)==null?void 0:s.user)==null?void 0:b.name)+" "+d((P=(p=o.value)==null?void 0:p.user)==null?void 0:P.patronymic),1)]}),_:1}),t(R,{class:"mb-2"},{default:a(()=>{var r,u;return[t(_,{size:"20",color:"grey-darken-1",class:"mr-1"},{default:a(()=>l[3]||(l[3]=[m("mdi-email")])),_:1}),i("span",Ee,d((u=(r=o.value)==null?void 0:r.user)==null?void 0:u.email),1)]}),_:1}),t(N,{class:"text-body-1 mt-2"},{default:a(()=>{var r;return[m(d(((r=o.value)==null?void 0:r.description)||"Нет описания"),1)]}),_:1})]),_:1})]),_:1})]),_:1}),t(V,{class:"mb-8 pa-6",elevation:"4"},{default:a(()=>{var r,u;return[i("div",He,[t(_,{color:"indigo",class:"mr-2"},{default:a(()=>l[4]||(l[4]=[m("mdi-github")])),_:1}),l[5]||(l[5]=i("h3",{class:"text-h5 font-weight-bold mb-0"},"Проекты",-1))]),(u=(r=o.value)==null?void 0:r.projects)!=null&&u.length?(c(),f(C,{key:0,class:"project-list"},{default:a(()=>[(c(!0),y(S,null,w(o.value.projects,s=>(c(),f(g,{key:s.id,cols:"12",md:"6"},{default:a(()=>[t(V,{class:"mb-4 project-card",elevation:"2"},{default:a(()=>[t(L,{class:"font-weight-bold text-primary"},{default:a(()=>[m(d(s.name),1)]),_:2},1024),t(R,null,{default:a(()=>[t(_,{size:"18",color:"grey-darken-1",class:"mr-1"},{default:a(()=>l[6]||(l[6]=[m("mdi-link-variant")])),_:1}),i("a",{href:s.repository,target:"_blank"},d(s.repository),9,Me)]),_:2},1024),t(N,null,{default:a(()=>[m(d(s.text),1)]),_:2},1024),s.photos&&s.photos.length?(c(),f(C,{key:0,class:"mt-2"},{default:a(()=>[(c(!0),y(S,null,w(s.photos,b=>(c(),f(g,{key:b.id,cols:"6"},{default:a(()=>[t(Be,{src:b.link,"aspect-ratio":"1",class:"rounded-lg",cover:""},null,8,["src"])]),_:2},1024))),128))]),_:2},1024)):ze("",!0)]),_:2},1024)]),_:2},1024))),128))]),_:1})):(c(),y("div",Oe,"Нет проектов"))]}),_:1}),t(V,{class:"mb-8 pa-6",elevation:"4"},{default:a(()=>{var r,u;return[i("div",Ue,[t(_,{color:"teal-darken-2",class:"mr-2"},{default:a(()=>l[7]||(l[7]=[m("mdi-briefcase-outline")])),_:1}),l[8]||(l[8]=i("h3",{class:"text-h5 font-weight-bold mb-0"},"Заказы",-1))]),(u=(r=o.value)==null?void 0:r.orders)!=null&&u.length?(c(),f(Re,{key:0,class:"orders-table"},{default:a(()=>[l[9]||(l[9]=i("thead",null,[i("tr",null,[i("th",null,"Название"),i("th",null,"Статус"),i("th",null,"Цена"),i("th",null,"Срок"),i("th",null,"Статус участия")])],-1)),i("tbody",null,[(c(!0),y(S,null,w(o.value.orders,s=>(c(),y("tr",{key:s.id},[i("td",null,d(s.title),1),i("td",null,[t(F,{color:s.status==="Завершен"?"success":s.status==="В работе"?"primary":"grey",size:"small"},{default:a(()=>[m(d(s.status),1)]),_:2},1032,["color"])]),i("td",null,d(s.price),1),i("td",null,d(s.time),1),i("td",null,d(s.order_contractor_status),1)]))),128))])]),_:1})):(c(),y("div",Ge,"Нет заказов"))]}),_:1}),t(V,{class:"pa-6",elevation:"4"},{default:a(()=>{var r,u;return[i("div",Ke,[t(_,{color:"amber-darken-2",class:"mr-2"},{default:a(()=>l[10]||(l[10]=[m("mdi-star-outline")])),_:1}),l[11]||(l[11]=i("h3",{class:"text-h5 font-weight-bold mb-0"},"Отзывы",-1))]),(u=(r=o.value)==null?void 0:r.feedbacks)!=null&&u.length?(c(),f(C,{key:0},{default:a(()=>[(c(!0),y(S,null,w(o.value.feedbacks,s=>(c(),f(g,{key:s.id,cols:"12"},{default:a(()=>[t(Fe,{type:s.estimation>=4?"success":s.estimation>=3?"warning":"error",class:"mb-2"},{default:a(()=>[i("div",Qe,[t(_,{left:"",size:"18",color:"amber"},{default:a(()=>l[12]||(l[12]=[m("mdi-star")])),_:1}),m(" Оценка: "+d(s.estimation),1)]),i("div",null,d(s.text),1),i("div",We,d(s.timestamp),1)]),_:2},1032,["type"])]),_:2},1024))),128))]),_:1})):(c(),y("div",Xe,"Нет отзывов"))]}),_:1})]),_:1})]),_:1}),t(Ae,{modelValue:n.value.show,"onUpdate:modelValue":l[1]||(l[1]=r=>n.value.show=r),color:n.value.color,timeout:3e3},{actions:a(()=>[t(W,{variant:"text",onClick:l[0]||(l[0]=r=>n.value.show=!1)},{default:a(()=>l[13]||(l[13]=[m("Закрыть")])),_:1})]),default:a(()=>[m(d(n.value.text)+" ",1)]),_:1},8,["modelValue","color"])]),_:1}))}},qe=Ce(Ye,[["__scopeId","data-v-78e86928"]]);export{qe as default};
