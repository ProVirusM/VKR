import{v as x,b5 as C,aA as w,a_ as h,o as n,a$ as A,b0 as o,b1 as T,b as e,aj as B,bk as O,a as m,ak as N,b3 as f,c,F as i,b4 as a,aY as l,bl as u}from"./index-WY92rlIk.js";import{a as k,V as s}from"./VRow-BeP4JcLO.js";import{V as R}from"./VCard-C8tOARdq.js";const j={class:"text-h5 font-weight-bold mb-1"},S={__name:"UserDashboard",setup(D){const d=x({}),r=C();w(async()=>{try{const p=localStorage.getItem("token"),t=await h.get("/api/profile",{headers:{Authorization:`Bearer ${p}`}});d.value=t.data}catch{r.push("/login")}});const b=()=>r.push("/customer/create-order"),g=()=>r.push("/contractor/reviews"),y=()=>r.push("/contractor/approved-orders"),v=()=>r.push("/contractor/responded-orders"),_=()=>r.push("/customer/active-orders"),V=()=>r.push("/customer/completed-orders");return(p,t)=>(n(),A(T,{class:"py-8"},{default:o(()=>[e(R,{elevation:"10",rounded:"xl",class:"pa-6 bg-grey-lighten-5"},{default:o(()=>[e(k,{justify:"center"},{default:o(()=>[e(s,{cols:"12",md:"6",class:"text-center"},{default:o(()=>[e(B,{size:"120",class:"mb-4 mx-auto"},{default:o(()=>[e(O,{src:"https://www.w3schools.com/w3images/avatar2.png",alt:"Avatar"})]),_:1}),m("h2",j,"Добро пожаловать, "+N(d.value.name)+"!",1),t[0]||(t[0]=m("p",{class:"text-subtitle-1 text-grey-darken-1"},"Ваш личный кабинет",-1))]),_:1})]),_:1}),e(f,{class:"my-6"}),e(k,{dense:"",justify:"center"},{default:o(()=>[Array.isArray(d.value.roles)?(n(),c(i,{key:0},[d.value.roles.includes("customer")?(n(),c(i,{key:0},[e(s,{cols:"12",md:"4"},{default:o(()=>[e(a,{block:"",color:"primary",onClick:b,"prepend-icon":"mdi-plus-box"},{default:o(()=>t[1]||(t[1]=[l(" Создать заказ ")])),_:1})]),_:1}),e(s,{cols:"12",md:"4"},{default:o(()=>[e(a,{block:"",color:"blue-darken-1",onClick:_,"prepend-icon":"mdi-briefcase-clock-outline"},{default:o(()=>t[2]||(t[2]=[l(" Активные заказы ")])),_:1})]),_:1}),e(s,{cols:"12",md:"4"},{default:o(()=>[e(a,{block:"",color:"indigo",onClick:V,"prepend-icon":"mdi-history"},{default:o(()=>t[3]||(t[3]=[l(" История заказов ")])),_:1})]),_:1})],64)):u("",!0),d.value.roles.includes("contractor")?(n(),c(i,{key:1},[e(s,{cols:"12",md:"4"},{default:o(()=>[e(a,{block:"",color:"green-darken-2",onClick:g,"prepend-icon":"mdi-star-outline"},{default:o(()=>t[4]||(t[4]=[l(" Мои отзывы ")])),_:1})]),_:1}),e(s,{cols:"12",md:"4"},{default:o(()=>[e(a,{block:"",color:"teal-darken-2",onClick:y,"prepend-icon":"mdi-check-bold"},{default:o(()=>t[5]||(t[5]=[l(" Утвержденные заказы ")])),_:1})]),_:1}),e(s,{cols:"12",md:"4"},{default:o(()=>[e(a,{block:"",color:"amber-darken-2",onClick:v,"prepend-icon":"mdi-message-reply-text-outline"},{default:o(()=>t[6]||(t[6]=[l(" Отозвавшиеся заказы ")])),_:1})]),_:1})],64)):u("",!0)],64)):u("",!0)]),_:1}),e(f,{class:"my-6"})]),_:1})]),_:1}))}};export{S as default};
