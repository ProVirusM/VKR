import{r as x,v as V,b as w,d as h,o as n,e as A,f as o,V as B,g as e,j as m,h as s,B as T,C as O,a as f,t as D,q as k,c,F as u,u as a,n as l,D as i,l as N}from"./index-BoU_5vPm.js";const R={class:"text-h5 font-weight-bold mb-1"},F={__name:"UserDashboard",setup(j){const d=x({}),r=V();w(async()=>{try{const p=localStorage.getItem("token"),t=await h.get("/api/profile",{headers:{Authorization:`Bearer ${p}`}});d.value=t.data}catch{r.push("/login")}});const g=()=>r.push("/customer/create-order"),b=()=>r.push("/contractor/reviews"),y=()=>r.push("/contractor/approved-orders"),v=()=>r.push("/contractor/responded-orders"),C=()=>r.push("/customer/active-orders"),_=()=>r.push("/customer/completed-orders");return(p,t)=>(n(),A(B,{class:"py-8"},{default:o(()=>[e(N,{elevation:"10",rounded:"xl",class:"pa-6 bg-grey-lighten-5"},{default:o(()=>[e(m,{justify:"center"},{default:o(()=>[e(s,{cols:"12",md:"6",class:"text-center"},{default:o(()=>[e(T,{size:"120",class:"mb-4 mx-auto"},{default:o(()=>[e(O,{src:"https://www.w3schools.com/w3images/avatar2.png",alt:"Avatar"})]),_:1}),f("h2",R,"Добро пожаловать, "+D(d.value.name)+"!",1),t[0]||(t[0]=f("p",{class:"text-subtitle-1 text-grey-darken-1"},"Ваш личный кабинет",-1))]),_:1})]),_:1}),e(k,{class:"my-6"}),e(m,{dense:"",justify:"center"},{default:o(()=>[Array.isArray(d.value.roles)?(n(),c(u,{key:0},[d.value.roles.includes("customer")?(n(),c(u,{key:0},[e(s,{cols:"12",md:"4"},{default:o(()=>[e(a,{block:"",color:"primary",onClick:g,"prepend-icon":"mdi-plus-box"},{default:o(()=>t[1]||(t[1]=[l(" Создать заказ ")])),_:1})]),_:1}),e(s,{cols:"12",md:"4"},{default:o(()=>[e(a,{block:"",color:"blue-darken-1",onClick:C,"prepend-icon":"mdi-briefcase-clock-outline"},{default:o(()=>t[2]||(t[2]=[l(" Активные заказы ")])),_:1})]),_:1}),e(s,{cols:"12",md:"4"},{default:o(()=>[e(a,{block:"",color:"indigo",onClick:_,"prepend-icon":"mdi-history"},{default:o(()=>t[3]||(t[3]=[l(" История заказов ")])),_:1})]),_:1})],64)):i("",!0),d.value.roles.includes("contractor")?(n(),c(u,{key:1},[e(s,{cols:"12",md:"4"},{default:o(()=>[e(a,{block:"",color:"green-darken-2",onClick:b,"prepend-icon":"mdi-star-outline"},{default:o(()=>t[4]||(t[4]=[l(" Мои отзывы ")])),_:1})]),_:1}),e(s,{cols:"12",md:"4"},{default:o(()=>[e(a,{block:"",color:"teal-darken-2",onClick:y,"prepend-icon":"mdi-check-bold"},{default:o(()=>t[5]||(t[5]=[l(" Утвержденные заказы ")])),_:1})]),_:1}),e(s,{cols:"12",md:"4"},{default:o(()=>[e(a,{block:"",color:"amber-darken-2",onClick:v,"prepend-icon":"mdi-message-reply-text-outline"},{default:o(()=>t[6]||(t[6]=[l(" Отозвавшиеся заказы ")])),_:1})]),_:1})],64)):i("",!0)],64)):i("",!0)]),_:1}),e(k,{class:"my-6"})]),_:1})]),_:1}))}};export{F as default};
