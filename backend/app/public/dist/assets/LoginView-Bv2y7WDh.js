import{y as n,ar as f,o as V,ao as c,ap as t,j as a,am as i,as as x}from"./index-Bxu_Lcnn.js";import{O as g,Q as v,U as m,P as b,N as w}from"./VContainer-BYRNUzxL.js";import{V as k}from"./VForm-vnbBkkQm.js";import{j as d}from"./VTextField-CJ5Z1JF-.js";const B={__name:"LoginView",setup(y){const o=n(""),s=n(""),u=f(),p=async()=>{try{const l=await w.post("/api/login_check",{email:o.value,password:s.value});localStorage.setItem("token",l.data.token),localStorage.setItem("name",l.data.name),localStorage.setItem("email",l.data.email),u.push("/dashboard")}catch{alert("Ошибка входа. Проверьте данные.")}};return(l,e)=>(V(),c(g,{class:"d-flex align-center justify-center fill-height"},{default:t(()=>[a(b,{class:"pa-6","max-width":"400",elevation:"12"},{default:t(()=>[a(v,{class:"text-h5 text-center mb-4"},{default:t(()=>e[2]||(e[2]=[i("Вход в систему")])),_:1}),a(k,{onSubmit:x(p,["prevent"])},{default:t(()=>[a(d,{modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=r=>o.value=r),label:"Имя пользователя",required:""},null,8,["modelValue"]),a(d,{modelValue:s.value,"onUpdate:modelValue":e[1]||(e[1]=r=>s.value=r),label:"Пароль",type:"password",required:""},null,8,["modelValue"]),a(m,{type:"submit",color:"primary",class:"mt-4",block:""},{default:t(()=>e[3]||(e[3]=[i("Войти")])),_:1}),a(m,{variant:"text",class:"mt-2",block:"",to:"/register"},{default:t(()=>e[4]||(e[4]=[i("Регистрация")])),_:1})]),_:1})]),_:1})]),_:1}))}};export{B as default};
