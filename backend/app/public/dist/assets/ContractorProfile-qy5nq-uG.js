import{K as S,L as D,M as R,N as A,O as H,P as I,Q as U,R as E,S as L,g as t,T as M,_ as $,r as B,b as G,e as c,f as e,k as K,d as O,o as u,V as b,l as y,i as h,C as Q,a as r,t as i,G as P,n as d,m as N,U as z,H as _,p as F,c as f,j as x,F as k,u as q,E as J,D as W,B as X}from"./index-DejXQ6j1.js";import{V as Y}from"./VSnackbar-Csf5_DjI.js";import{V as Z}from"./VAlert-3D3yQNz9.js";const j=S({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...D(),...R(),...A(),...H()},"VTable"),ee=I()({name:"VTable",props:j(),setup(m,V){let{slots:s,emit:v}=V;const{themeClasses:C}=U(m),{densityClasses:g}=E(m);return L(()=>t(m.tag,{class:["v-table",{"v-table--fixed-height":!!m.height,"v-table--fixed-header":m.fixedHeader,"v-table--fixed-footer":m.fixedFooter,"v-table--has-top":!!s.top,"v-table--has-bottom":!!s.bottom,"v-table--hover":m.hover},C.value,g.value,m.class],style:m.style},{default:()=>{var a,o,n;return[(a=s.top)==null?void 0:a.call(s),s.default?t("div",{class:"v-table__wrapper",style:{height:M(m.height)}},[t("table",null,[s.default()])]):(o=s.wrapper)==null?void 0:o.call(s),(n=s.bottom)==null?void 0:n.call(s)]}})),{}}}),te={class:"text-h3 white--text"},ae={class:"text-grey-darken-1"},le={class:"d-flex align-center mb-4"},se=["href"],oe={key:1,class:"text-grey"},re={class:"d-flex align-center mb-4"},ne={key:1,class:"text-grey"},ie={class:"d-flex align-center mb-4"},ue={class:"font-weight-bold mb-1"},de={class:"text-grey text-caption mt-1"},me={key:1,class:"text-grey"},ce={__name:"ContractorProfile",setup(m){const V=J(),s=B(null),v=B({show:!1,text:"",color:"success"});return G(async()=>{try{const g=await O.get(`/api/contractors/${V.params.id}/full-profile`);s.value=g.data}catch{v.value={show:!0,text:"Ошибка загрузки профиля",color:"error"}}}),(g,a)=>(u(),c(K,{class:"py-10"},{default:e(()=>[t(h,{justify:"center"},{default:e(()=>[t(b,{cols:"12",md:"10",lg:"8"},{default:e(()=>[t(y,{class:"profile-card mb-8",elevation:"8"},{default:e(()=>[t(h,{"no-gutters":"",align:"center"},{default:e(()=>[t(b,{cols:"auto",class:"d-flex flex-column align-center px-8 py-8 profile-avatar-col"},{default:e(()=>[t(Q,{size:"110",color:"primary",class:"mb-4 elevation-6"},{default:e(()=>{var o,n,l;return[r("span",te,i(((l=(n=(o=s.value)==null?void 0:o.user)==null?void 0:n.name)==null?void 0:l.charAt(0))||"?"),1)]}),_:1}),t(P,{color:"primary",class:"mt-2","prepend-icon":"mdi-account-badge"},{default:e(()=>a[2]||(a[2]=[d("Исполнитель")])),_:1})]),_:1}),t(b,null,{default:e(()=>[t(N,{class:"text-h4 font-weight-bold mb-2"},{default:e(()=>{var o,n,l,p,w,T;return[d(i((n=(o=s.value)==null?void 0:o.user)==null?void 0:n.surname)+" "+i((p=(l=s.value)==null?void 0:l.user)==null?void 0:p.name)+" "+i((T=(w=s.value)==null?void 0:w.user)==null?void 0:T.patronymic),1)]}),_:1}),t(z,{class:"mb-2"},{default:e(()=>{var o,n;return[t(_,{size:"20",color:"grey-darken-1",class:"mr-1"},{default:e(()=>a[3]||(a[3]=[d("mdi-email")])),_:1}),r("span",ae,i((n=(o=s.value)==null?void 0:o.user)==null?void 0:n.email),1)]}),_:1}),t(F,{class:"text-body-1 mt-2"},{default:e(()=>{var o;return[d(i(((o=s.value)==null?void 0:o.description)||"Нет описания"),1)]}),_:1})]),_:1})]),_:1})]),_:1}),t(y,{class:"mb-8 pa-6",elevation:"4"},{default:e(()=>{var o,n;return[r("div",le,[t(_,{color:"indigo",class:"mr-2"},{default:e(()=>a[4]||(a[4]=[d("mdi-github")])),_:1}),a[5]||(a[5]=r("h3",{class:"text-h5 font-weight-bold mb-0"},"Проекты",-1))]),(n=(o=s.value)==null?void 0:o.projects)!=null&&n.length?(u(),c(h,{key:0,class:"project-list"},{default:e(()=>[(u(!0),f(k,null,x(s.value.projects,l=>(u(),c(b,{key:l.id,cols:"12",md:"6"},{default:e(()=>[t(y,{class:"mb-4 project-card",elevation:"2"},{default:e(()=>[t(N,{class:"font-weight-bold text-primary"},{default:e(()=>[d(i(l.name),1)]),_:2},1024),t(z,null,{default:e(()=>[t(_,{size:"18",color:"grey-darken-1",class:"mr-1"},{default:e(()=>a[6]||(a[6]=[d("mdi-link-variant")])),_:1}),r("a",{href:l.repository,target:"_blank"},i(l.repository),9,se)]),_:2},1024),t(F,null,{default:e(()=>[d(i(l.text),1)]),_:2},1024),l.photos&&l.photos.length?(u(),c(h,{key:0,class:"mt-2"},{default:e(()=>[(u(!0),f(k,null,x(l.photos,p=>(u(),c(b,{key:p.id,cols:"6"},{default:e(()=>[t(W,{src:p.link,"aspect-ratio":"1",class:"rounded-lg",cover:""},null,8,["src"])]),_:2},1024))),128))]),_:2},1024)):X("",!0)]),_:2},1024)]),_:2},1024))),128))]),_:1})):(u(),f("div",oe,"Нет проектов"))]}),_:1}),t(y,{class:"mb-8 pa-6",elevation:"4"},{default:e(()=>{var o,n;return[r("div",re,[t(_,{color:"teal-darken-2",class:"mr-2"},{default:e(()=>a[7]||(a[7]=[d("mdi-briefcase-outline")])),_:1}),a[8]||(a[8]=r("h3",{class:"text-h5 font-weight-bold mb-0"},"Заказы",-1))]),(n=(o=s.value)==null?void 0:o.orders)!=null&&n.length?(u(),c(ee,{key:0,class:"orders-table"},{default:e(()=>[a[9]||(a[9]=r("thead",null,[r("tr",null,[r("th",null,"Название"),r("th",null,"Статус"),r("th",null,"Цена"),r("th",null,"Срок"),r("th",null,"Статус участия")])],-1)),r("tbody",null,[(u(!0),f(k,null,x(s.value.orders,l=>(u(),f("tr",{key:l.id},[r("td",null,i(l.title),1),r("td",null,[t(P,{color:l.status==="Завершен"?"success":l.status==="В работе"?"primary":"grey",size:"small"},{default:e(()=>[d(i(l.status),1)]),_:2},1032,["color"])]),r("td",null,i(l.price),1),r("td",null,i(l.time),1),r("td",null,i(l.order_contractor_status),1)]))),128))])]),_:1})):(u(),f("div",ne,"Нет заказов"))]}),_:1}),t(y,{class:"pa-6",elevation:"4"},{default:e(()=>{var o,n;return[r("div",ie,[t(_,{color:"amber-darken-2",class:"mr-2"},{default:e(()=>a[10]||(a[10]=[d("mdi-star-outline")])),_:1}),a[11]||(a[11]=r("h3",{class:"text-h5 font-weight-bold mb-0"},"Отзывы",-1))]),(n=(o=s.value)==null?void 0:o.feedbacks)!=null&&n.length?(u(),c(h,{key:0},{default:e(()=>[(u(!0),f(k,null,x(s.value.feedbacks,l=>(u(),c(b,{key:l.id,cols:"12"},{default:e(()=>[t(Z,{type:l.estimation>=4?"success":l.estimation>=3?"warning":"error",class:"mb-2"},{default:e(()=>[r("div",ue,[t(_,{left:"",size:"18",color:"amber"},{default:e(()=>a[12]||(a[12]=[d("mdi-star")])),_:1}),d(" Оценка: "+i(l.estimation),1)]),r("div",null,i(l.text),1),r("div",de,i(l.timestamp),1)]),_:2},1032,["type"])]),_:2},1024))),128))]),_:1})):(u(),f("div",me,"Нет отзывов"))]}),_:1})]),_:1})]),_:1}),t(Y,{modelValue:v.value.show,"onUpdate:modelValue":a[1]||(a[1]=o=>v.value.show=o),color:v.value.color,timeout:3e3},{actions:e(()=>[t(q,{variant:"text",onClick:a[0]||(a[0]=o=>v.value.show=!1)},{default:e(()=>a[13]||(a[13]=[d("Закрыть")])),_:1})]),default:e(()=>[d(i(v.value.text)+" ",1)]),_:1},8,["modelValue","color"])]),_:1}))}},_e=$(ce,[["__scopeId","data-v-eaa4de70"]]);export{_e as default};
